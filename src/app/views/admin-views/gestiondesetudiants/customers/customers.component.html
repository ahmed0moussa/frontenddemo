

<div class="row">
    <div class="col-lg-12">
        <div class="card shadow mb-4">
            <div class="card-header py-3">
                <div class="d-flex align-items-center flex-wrap gap-3">
                    <div class="flex-grow-1">
                        <h3 class="card-title mb-0">students List</h3>
                    </div>
                    <div>
                        <div class="d-flex flex-wrap gap-2">
                            <button type="button" (click)="addEtudiants()" class="btn btn-primary add-btn" ><i class="bi bi-plus-circle align-baseline me-1"></i> Add
                                students</button>
                            <!-- <button type="button" class="btn btn-secondary"><i class="ph-cloud-arrow-down align-middle me-1"></i> Import</button>
                            <button type="button" class="btn btn-subtle-info"><i class="ph-cloud-arrow-up align-middle me-1"></i> Export</button> -->
                        </div>
                    </div>
                </div>
            </div>
            <div class="card-body row" id="customer-list">
                <div class="col-7">
                    <div class="table-responsive mt-4">
                        <table class="table table-bordered display">
                            <thead>
                                <tr>
                                  <th class="id d-none">ID</th>
                                  <th class="customer">Student</th>
                                  <th class="email">CIN</th>
                                  <th class="email">Email</th>
                                  <th class="contact">GSM</th>
                                  <th class="date">Date of Birth</th>
                                  
                                  <th>Actions</th>
                                </tr>
                              </thead>
                            <tbody class="list">
                                <ng-container *ngFor="let data of students; let i = index">
                                  <tr>
                                    <td class="id d-none"><a href="javascript:void(0);" class="fw-medium link-primary">01</a></td>
                                    <td class="customer">
                                      
                                        <div class="flex-grow-1">
                                          {{ data.nom }} {{ data.prenom }}
                                        </div>
                                      
                                    </td>
                                    <td class="email">{{ data.cin}}</td>
                                    <td class="email">{{ data.email }}</td>
                                    <td class="contact">{{ data.gsm }}</td>
                                    <td class="date">{{ data.dateN | date:'dd/MM/yyyy'}}-{{data.lienN}}</td>
                                    
                                    <td>
                                        <ul class=" list-unstyled">
                                          <li class="me-3">
                                            <a class="dropdown-item view-item-btn" (click)="viewStudent(i)">
                                              <i class="fas fa-eye text-primary"></i>
                                            </a>
                                          </li>
                                          <li class="me-3">
                                            <a class="dropdown-item edit-item-btn" (click)="editStudent(data.id)">
                                              <i class="fa fa-table text-success"></i>
                                            </a>
                                          </li>
                                          <li>
                                            <a class="dropdown-item delete-item-btn" data-toggle="tooltip" data-placement="top" title="Supprimer" data-toggle="modal" data-target="#deleteModal"  (click)="removeStudent(data.id)">
                                              <i class="fa fa-trash" style="color: red;"></i>
                                            </a>
                                          </li>
                                        </ul>
                                      </td>
                                      
                                  </tr>
                                </ng-container>
                              </tbody>
                              
                        </table>
                    </div>
                        
                </div><!--end col-->
                <div class="col-5">
                    <div class="mt-4" *ngIf="studentDetail">
                        <div class=" m-4">
                            <div>
                                <div class="d-flex justify-content-end">
                                    <button type="button" class="btn btn-secondary me-1" (click)="downloadPDF()"><i class="ph-cloud-arrow-down align-middle me-1"></i> download</button>
                                    <button class="btn btn-subtle-danger btn-icon " data-toggle="tooltip" data-placement="top" title="Supprimer" data-toggle="modal" data-target="#deleteModal" (click)="removeStudent(studentDetail.id)"><i class="fa fa-trash" style="color: red;"></i></button>
                                </div>
                            </div>
                            <div #pdfsave id="htmlData">
                                <div class="d-flex gap-3 align-items-center flex-wrap">
                                    <div class="flex-shirnk-0">
                                        <img src="{{studentDetail.image}}" alt="" width="200px" height="200px" class="avatar rounded overview-img" >
                                    </div>
                                    <div class="m-5 flex-grow-1">
                                        <h6 class="fs-lg overview-name">{{studentDetail.prenom}} {{studentDetail.nom}}</h6>
                                        <p class="text-muted mb-0"><a  class="overview-nick-name">{{studentDetail.matricule}}</a></p>
                                    </div>
                                    
                                </div>
                            
                                <div>
                                    <table class="table table-sm table-borderless mt-3">
                                        
                                        <tbody>
                                            <tr class="">
                                                <th class="mx-3">CIN</th>
                                                <td class="overview-cin">{{studentDetail.cin}}</td>
                                            </tr>
                                            <tr>
                                                <th class="mx-3">Email</th>
                                                <td class="overview-email">{{studentDetail.email}}</td>
                                                <th class="mx-3">Contact</th>
                                                <td class="overview-contact">{{studentDetail.gsm}}</td>
                                            </tr>
                                            <tr>
                                                <th class="mx-3">age</th>
                                                <td class="overview-age">{{studentDetail.age}}</td>
                                                <th class="mx-3">adresse</th>
                                                <td class="overview-adresse">{{studentDetail.adresse}}</td>
                                            </tr>
                                            <tr>
                                                <th class="mx-3">parent</th>
                                                <td class="overview-parent">{{studentDetail.parent}}</td>
                                                <th class="mx-3">parent phone </th>
                                                <td class="overview-telParent">{{studentDetail.telParent}}</td>
                                            </tr>
                                            <tr>
                                                <th class="mx-3">parent email</th>
                                                <td class="overview-emailParent">{{studentDetail.emailParent}}</td>
                                                
                                            </tr>
                                            <tr>
                                                <th class="mx-3">birthday</th>
                                                <td class="overview-parent">{{studentDetail.dateN | date:'dd/MM/yyyy'}}</td>
                                                <th class="mx-3">bith place </th>
                                                <td class="overview-telParent">{{studentDetail.lienN}}</td>
                                            </tr>
                                            <tr>
                                                <th class="mx-3">BAC</th>
                                                <td class="overview-parent">{{studentDetail.bac}}</td>
                                                <th class="mx-3">bac date </th>
                                                <td class="overview-telParent">{{studentDetail.anneeBac| date:'yyyy'}}</td>
                                            </tr>
                                            <tr>
                                                
                                                <th class="mx-3">Moyenne BAC</th>
                                                <td class="overview-parent">{{studentDetail.moyBac}}</td>
                                                
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                            
                        
                    </div>
                </div>
            </div>
        </div>
    </div><!--end col-->
</div><!--end row-->

<!-- deleteRecordModal -->
<div class="modal fade" id="deleteModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="btn-close" data-dismiss="modal" >X</button>
            </div>
            <div class="modal-body p-md-5">
                <div class="text-center">
                    <div class="text-danger">
                        <i class="bi bi-trash display-4"></i>
                    </div>
                    <div class="mt-4">
                        <h3 class="mb-2">Are you sure ?</h3>
                        <p class="text-muted fs-lg mx-3 mb-0">Are you sure you want to remove this record ?</p>
                    </div>
                </div>
                <div class="d-flex gap-2 justify-content-center mt-4 mb-2">
                    <button type="button" class="btn w-sm btn-light btn-hover" data-dismiss="modal" >Close</button>
                    <button type="button" class="btn w-sm btn-danger btn-hover" data-dismiss="modal" (click)="deleteStudent()">Yes, Delete
                        It!</button>
                </div>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div><!-- /deleteRecordModal -->

